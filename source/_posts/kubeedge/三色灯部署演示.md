---
title: 三色灯控制实现
date: 2021-12-03
categories:
- kubeedge
tags:
- kubeedge example
language: zh-CN
toc: true
---

### 三色灯

#### 场景搭建

​	树莓派3B+以及三色灯

#### 工作流程

​	通过将使用mapperSdk编写gpio的程序运行在树莓派上，用户可以通过restful接口来控制三色灯的状态。（例程只实现了对三种颜色灯的简单控制，开发者可以根据场景需求实现相应的逻辑）。用户可以按设定的时间间隔收到mqtt消息以此来监控三色灯的实时状态。

<!--more-->

### 效果演示

1. ​	启动gpio程序

   ![](https://cxd-note-img.oss-cn-hangzhou.aliyuncs.com/typora-note-img/image-20220306125540998.png)

2. 查看mqtt 订阅消息

   ![](https://cxd-note-img.oss-cn-hangzhou.aliyuncs.com/typora-note-img/image-20220306130343325.png)

3. 通过restful接口改变三色灯状态

   黄色灯亮

   ![](https://cxd-note-img.oss-cn-hangzhou.aliyuncs.com/typora-note-img/image-20220306130524495.png)

   ![](https://cxd-note-img.oss-cn-hangzhou.aliyuncs.com/typora-note-img/IMG_0167.JPG)

   绿色灯亮

   ![](https://cxd-note-img.oss-cn-hangzhou.aliyuncs.com/typora-note-img/IMG_0168.JPG)

   红色灯亮

   ![](https://cxd-note-img.oss-cn-hangzhou.aliyuncs.com/typora-note-img/image-20220306130925468.png)

   ![](https://cxd-note-img.oss-cn-hangzhou.aliyuncs.com/typora-note-img/IMG_0169-16465433251871.JPG)

   