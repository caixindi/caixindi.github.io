### 联邦推理

1. 部署EdgeX环境

   `kubectl apply -f  test.yaml`

   ![image-20220305125202136](../img/%E8%81%94%E9%82%A6%E6%8E%A8%E7%90%86%E5%8F%8A%E8%81%94%E9%82%A6%E6%8E%A8%E7%90%86%E6%89%A7%E8%A1%8C%E6%B5%81%E7%A8%8B/image-20220305125202136.png)

2. 启动云端推理服务

   `python detect.py`

   ![image-20220305125226350](../img/%E8%81%94%E9%82%A6%E6%8E%A8%E7%90%86%E5%8F%8A%E8%81%94%E9%82%A6%E6%8E%A8%E7%90%86%E6%89%A7%E8%A1%8C%E6%B5%81%E7%A8%8B/image-20220305125226350.png)

3. 使用postman 发送图片至EdgeX

   `http://39.104.160.208:30086/api/v2/resource/sample-image/jpeg`

4. 使用k3s 查看容器日志

    `kubectl logs -f edgex-app-service-simple-image-classification-http-75c66b5vh4f5`

   ![image-20220305125355688](../img/%E8%81%94%E9%82%A6%E6%8E%A8%E7%90%86%E5%8F%8A%E8%81%94%E9%82%A6%E6%8E%A8%E7%90%86%E6%89%A7%E8%A1%8C%E6%B5%81%E7%A8%8B/image-20220305125355688.png)

5. 查看推理结果图片（图片保存在挂载目录下）

   ![image-20220305125605147](../img/%E8%81%94%E9%82%A6%E6%8E%A8%E7%90%86%E5%8F%8A%E8%81%94%E9%82%A6%E6%8E%A8%E7%90%86%E6%89%A7%E8%A1%8C%E6%B5%81%E7%A8%8B/image-20220305125605147.png)

   ![image-20220305130150061](../img/%E8%81%94%E9%82%A6%E6%8E%A8%E7%90%86%E5%8F%8A%E8%81%94%E9%82%A6%E6%8E%A8%E7%90%86%E6%89%A7%E8%A1%8C%E6%B5%81%E7%A8%8B/image-20220305130150061.png)

### 联邦学习

