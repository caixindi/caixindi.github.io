---
title: Linux踩不完的坑
date: 2021-12-03
categories:
- Linux
tags:
- Linux知识点
language: zh-CN
toc: true
---

### linux 创建用户

```bash
$ useradd -d /home/jason -g root -m -s /bin/bash jason
# 把jason用户添加到sudo和admin用户组里面。这里要注意的是系统里面的admin的用户组的名字是"adm"
$ usermod -a -G sudo jason
$ usermod -a -G adm jason
# 设置用户密码
$ passwd jason


#将用户移除组
#id用来查看用户属性
$ id root
# uid=0(root) gid=0(root) groups=0(root),1000(gl)
$ gpasswd -d root gl
# Removing user root from group gl
$ id root
# uid=0(root) gid=0(root) groups=0(root)

# sudo 无需输入密码
#在/etc/sudoers中添加如下语句
#语句位于root　　ALL=(ALL:ALL) ALL下面
#userName　　ALL=(ALL:ALL) NOPASSWD:ALL
```

<!--more-->

```
-c<备注> 　加上备注文字。备注文字会保存在passwd的备注栏位中。
-d<登入目录> 　指定用户登入时的起始目录。
-D 　变更预设值．
-e<有效期限> 　指定帐号的有效期限。
-f<缓冲天数> 　指定在密码过期后多少天即关闭该帐号。
-g<群组> 　指定用户所属的群组。
-G<群组> 　指定用户所属的附加群组。
-m 　自动建立用户的登入目录。
-M 　不要自动建立用户的登入目录。
-n 　取消建立以用户名称为名的群组．
-r 　建立系统帐号。
-s<shell>　 　指定用户登入后所使用的shell。
-u<uid> 　指定用户ID
```

### linux 配置密钥登录

1. 创建密钥对

2. 将公钥放入服务端authorized_keys 

   ```bash
   $ cat 公钥.pub > ~/.ssh/authorized_keys 
   ```

3. 使用xshell选择私钥文件登录

> **ssh命令行登录方式为**
>
> [ssh](https://so.csdn.net/so/search?q=ssh&spm=1001.2101.3001.7020) -i 文件位置.pem username@ip
